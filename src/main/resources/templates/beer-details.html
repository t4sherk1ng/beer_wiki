<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="fragments/head :: head('Beer Wiki — Детали пива')"></head>

<body>
<nav th:replace="fragments/navbar :: navbar"></nav>

<main class="container">
    <section style="max-width: 800px; margin: 0 auto;">
        <hgroup>
            <h1 style="font-family: 'Cinzel', serif; margin-bottom: 0.3rem;">Информация о пиве</h1>
            <p style="margin-top: 0;">Подробные сведения о сорте</p>
        </hgroup>

        <article class="card" style="margin-top: 20px;">
            <header style="margin-bottom: 15px;">
                <h2 th:text="${beerDetails.name}"
                    style="font-size: 26px; margin: 0 0 10px;"></h2>
                <p style="margin: 0; color: #b3b3b3;">
                    Пивоварня:
                    <strong th:text="${beerDetails.breweryName}"></strong>
                    <span th:if="${beerDetails.breweryLocation != null}">
                        &nbsp;•&nbsp;
                        <span th:text="${beerDetails.breweryLocation}"></span>
                    </span>
                </p>
            </header>

            <!-- Основные характеристики -->
            <section style="margin-top: 10px; display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 10px;">
                <div>
                    <strong>Стиль:</strong>
                    <p style="margin: 4px 0;" th:text="${beerDetails.styleName}">—</p>
                </div>
                <div>
                    <strong>ABV:</strong>
                    <p style="margin: 4px 0;">
                        <span th:text="${beerDetails.abv}"></span>%
                    </p>
                </div>
                <div>
                    <strong>IBU:</strong>
                    <p style="margin: 4px 0;">
                        <span th:text="${beerDetails.ibu}"></span>
                    </p>
                </div>
            </section>

            <!-- Описание -->
            <section style="margin-top: 20px;">
                <h3 style="margin-top: 0; color: #d4a048;">Описание</h3>
                <p th:text="${beerDetails.description}"></p>
            </section>

            <!-- Ингредиенты -->
            <section th:if="${beerDetails.ingredients != null and !#lists.isEmpty(beerDetails.ingredients)}"
                     style="margin-top: 20px;">
                <h3 style="margin-top: 0; color: #d4a048;">Ингредиенты</h3>
                <ul style="padding-left: 20px; margin-top: 8px;">
                    <li th:each="ing : ${beerDetails.ingredients}"
                        th:text="${ing}"></li>
                </ul>
            </section>



            <footer style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                <a href="/beers/all-beers"
                   style="padding: 8px 16px; border-radius: 6px; border: 1px solid #3c3c3c; color: #e6e3df;">
                    ← Назад к списку
                </a>

                <sec:authorize access="hasRole('ADMIN')">
                    <a th:href="@{/beers/delete/{id}(id=${beerDetails.id})}"
                       onclick="return confirm('Вы уверены, что хотите удалить это пиво?')"
                       style="padding: 8px 16px; border-radius: 6px; border: 1px solid #c0392b; color: #e74c3c;">
                        Удалить пиво
                    </a>
                </sec:authorize>
            </footer>
        </article>
    </section>
</main>

<footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>